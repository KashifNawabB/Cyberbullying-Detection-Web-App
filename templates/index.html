{% load static %}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Kashif Ali- Cyberbullying Detection</title>
<meta name="keywords" content="#" />
<meta name="description" content="#" />
<!--
Template 2058 metallic slider
http://www.tooplate.com/view/2058-metallic-slider
-->
    {#    <script type="text/javascript" src="{% static 'javascript/bootstrap.min.js' %}"></script>#}
<link href="{% static '../static/css/tooplate_style.css' %}" rel="stylesheet" type="text/css" />

<script src="{% static '../static/js/jquery-1.2.6.min.js' %}" type="text/javascript"></script>
<script src="{% static '../static/js/jquery.easing.1.3.js' %}" type="text/javascript"></script>
<script src="{% static '../static/js/jquery.kwicks-1.5.1.pack.js' %}" type="text/javascript"></script>

{#    dropzone implementations#}
    <script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" type="text/css" />

<script type="text/javascript">
	$().ready(function() {
		$('.kwicks').kwicks({
			max : 696,
			spacing : 0,
			sticky: true,
		});
	});
</script>

<script type="text/javascript" src="{% static '../static/js/jquery-1-4-2.min.js' %}"></script>
<link rel="stylesheet" href="{% static '../static/css/slimbox2.css' %}" type="text/css" media="screen" />
<script type="text/JavaScript" src="{% static '../static/js/slimbox2.js' %}"></script>

</head>

<body>

<div id="tooplate_main">
	<div id="site_title"><h1><a href="#">Cyberbullying Detection</a></h1></div>
    <div id="tooplate_content">
        <ul class="kwicks">

            <li id="home"><span class="header"></span><span class="slideno"></span>

                <div class="inner">
                	<h2>CYBERBULLYING DETECTION - Web APP</h2>
					<img src="../static/images/uob_logo.jpg" alt="Image 02" class="image_fr" />
		            <p><em>
                        <h3>DETECTION OF CYBERBULLYING ON SOCIAL MEDIA PLATFORMS USING MACHINE LEARNING</h3>
                        <h3>By: Kashif Ali</h3>
                        <h3>UB Number: 21024950</h3>
                        <h3>Project Supervisor: Karim Sadik</h3>
                    </em></p>
                    <br>
        		    <p><h3><u>Tabs Structure:</u></h3></p>
		            <p>
                        <h3>Tab 1: Introduction</h3>
                        <h3>Tab 2: Text Based Detection</h3>
                        <h3>Tab 3: Audio Based Detection</h3>
                        <h3>Tab 4: Video Based Detection</h3>
                        <h3>Tab 5: About Web Application</h3>
                    </p>
                </div>
            </li>

            <li id="about"><span class="header"></span><span class="slideno"></span>
                <div class="inner">
                	<h2>Text Based Cyberbullying Detection</h2>
                    <div class="cleaner h10"></div><div class="cleaner h10"></div><div class="cleaner h10"></div>
                    <h4>Enter Comment or Text to Detect</h4>
                    <div id="contact_form">
                        <form method="post" id="text_form" name="contact" action="/predict_text">
                            {% csrf_token %}
                            <label for="text">Message:</label> <textarea id="text" name="text" rows="0" cols="0" class="required"></textarea>
                            <div class="cleaner h10"></div>

                            <input type="submit" value="Detect" id="submit" name="submit" class="submit_btn float_l" />
                            <input type="reset" value="Reset" id="reset" name="reset" class="submit_btn float_r" />

 						</form>
                        <div class="cleaner h10"></div><div class="cleaner h10"></div><div class="cleaner h10"></div>
                        <label for="author">Prediction:</label> <input type="text" id="predicted" name="predicted" class="input_field" readonly="true" />
                            <div class="cleaner_h10"></div>
                    </div>
                </div>
            </li>

            <li id="social"><span class="header"></span><span class="slideno"></span>
            	<div class="inner">
                	<h2>Audio Based Cyberbullying Detection</h2>
                    <div class="cleaner h10"></div><div class="cleaner h10"></div><div class="cleaner h10"></div>
                    <div id="contact_form">
                    <form action="audio_detect/" method="post" class="dropzone" id="audioDZ">
                      {% csrf_token %}
                        <div class="fallback">
                        <input name="file" type="file" />
                      </div>
                        <div class="cleaner h10"></div>
                    </form>
                    <div class="cleaner h10"></div><div class="cleaner h10"></div><div class="cleaner h10"></div>
                        <label for="author">Prediction:</label> <input type="text" id="predicted_audio" name="predicted_audio" class="input_field" readonly="true" />
                            <div class="cleaner_h10"></div>
                    </div>
                </div>
            </li>

            <li id="portfolio"><span class="header"></span><span class="slideno"></span>
            	<div class="inner">
                	<h2>Video Based Cyberbullying Detection</h2>
                    <div class="cleaner h10"></div><div class="cleaner h10"></div><div class="cleaner h10"></div>
                    <div id="contact_form">
                        <form action="video_detect/" method="post" class="dropzone" id="videoDZ">
                          {% csrf_token %}
                            <div class="fallback">
                            <input name="file" type="file" />
                          </div>
                            <div class="cleaner h10"></div>
                        </form>
                        <div class="cleaner h10"></div><div class="cleaner h10"></div><div class="cleaner h10"></div>
                        <label for="author">Prediction:</label> <input type="text" id="predicted_video" name="predicted_video" class="input_field" readonly="true" />
                        <div class="cleaner_h10"></div>
                    </div>
                </div>
            </li>

            <li id="contact"><span class="header"></span><span class="slideno"></span>
            	<div class="inner">
                	<h2>About Web Application</h2>
                    <h4 align="justify">
                        Due to a misunderstanding of the idea of freedom of speech, the introduction of
                        social media, notably Twitter, generates several problems. One of these problems
                        is cyberbullying, a serious global problem that has an impact on both the victims'
                        lives and society as a whole. Numerous initiatives to stop, avoid, or lessen
                        cyberbullying have been proposed in the literature; however, because they depend
                        on the victims' interactions, they are impractical. Therefore, it's important to
                        identify cyberbullying without the victims' participation.
                        <br>
                        This is a prototype web application is developed to illustrate the use of Machine
                        Learning Trained Model for Cyberbullying Detection.
                        <br><br>
                        Tools: PyCharm
                        <br>
                        Language: Python, Django Framework, Django REST API Framework
                    </h4>

                    <h3>Developed By:</h3>
                    <h4>Kashif Ali</h4>
                    <h4>21024950</h4>
                    <h4>MSc Cyber Security<br>
                        DEPARTMENT OF COMPUTER SCIENCE<br>
                        UNIVERSITY OF BRADFORD<br>
                        <br>
                        Copyright &copy; 2022
                    </h4>

                </div>
            </li>

        </ul>

	</div> <!-- END of content -->
</div> <!-- END of tooplate_main -->

</body>



<script>
Dropzone.autoDiscover = false;
const myDropzone = new Dropzone("#audioDZ", {
    url: 'audio_detect/',
    method: 'POST',
    maxFiles: 1,
    acceptedFiles: '.wav',
    createImageThumbnails: true,

    addedfile: function (){
        $('#predicted_audio').css({'background-color': 'white'})
        $('#predicted_audio').val("")
        $('#predicted_audio').val("Uploading audio...")
    },

    uploadprogress: function (){
        $('#predicted_audio').css({'background-color': 'white'})
        $('#predicted_audio').val("Processing audio...");
    },

    success: function (response){
        if(response.xhr.response!='Not Cyberbullying'){
                $('#predicted_audio').css({'background-color': 'red'})
            }
            else{
                $('#predicted_audio').css({'background-color': 'green'})
            }
        $('#predicted_audio').val("");
        $('#predicted_audio').val(response.xhr.response);
},
})

const myVideoDropzone = new Dropzone("#videoDZ", {
    url: 'video_detect/',
    method: 'POST',
    maxFiles: 1,
    acceptedFiles: '.mp4',

    processing: function (){
        $('#predicted_video').css({'background-color': 'white'})
        $('#predicted_video').val("Uploading video...");
    },

    addedfile: function (){
        $('#predicted_video').css({'background-color': 'white'})
        $('#predicted_video').val("")
        $('#predicted_video').val("Uploading video...")
    },

    uploadprogress: function (){
        $('#predicted_video').val("Processing video...");
    },

    success: function (response){
        if(response.xhr.response!='Not Cyberbullying'){
                $('#predicted_video').css({'background-color': 'red'})
            }
            else{
                $('#predicted_video').css({'background-color': 'green'})
            }
        $('#predicted_video').val("");
        $('#predicted_video').val(response.xhr.response);
    },
    error: function (err){
        console.log(err.xhr.message)
    }
})

$("#text_form").submit(function(e) {
    e.preventDefault();
    var form = $(this);
    var actionUrl = form.attr('action');
    $('#predicted').css({'background-color': 'white'})
    $('#predicted').val("processing...")
    $.ajax({
        type: "POST",
        url: actionUrl,
        data: {
            csrfmiddlewaretoken: '{{ csrf_token }}',
           'text_data': $('#text').val(),
          },
        success: function(response)
        {
            if(response!='Not Cyberbullying'){
                $('#predicted').css({'background-color': 'red'})
            }
            else{
                $('#predicted').css({'background-color': 'green'})
            }
            $('#predicted').val(response)
        }
    });

});


</script>
</html>